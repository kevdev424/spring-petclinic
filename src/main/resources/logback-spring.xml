<appender name="DATADOG_HTTP" class="com.example.DatadogHttpAppender">
    <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
        <providers>
            <timestamp>
                <timeZone>UTC</timeZone>
            </timestamp>
            <pattern>
                <pattern>
                    {
                        "timestamp": "%d{yyyy-MM-dd'T'HH:mm:ss.SSS'Z',UTC}",
                        "severity": "%level",
                        "service": "${springAppName:-}",
                        "logger": "%logger",
                        "message": "%message",
                        "thread": "%thread",
                        "exception": "%ex{short}"
                    }
                </pattern>
            </pattern>
        </providers>
    </encoder>
    <apiKey>YOUR_DATADOG_API_KEY</apiKey>
</appender>
